{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Downloads/upGrad-Eshop-Application-using-createreactapp/src/components/productPage/ProductPage.jsx\",\n  _s = $RefreshSig$();\n//Component for product creation and modification\n\nimport Box from \"@mui/material/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport Typography from \"@mui/material/Typography\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport { useCallback, useContext, useEffect, useState } from \"react\";\nimport useAuthentication from \"../../hooks/useAuthentication\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { initCatalog } from \"../../store/actions/metadataAction\";\nimport { connect } from \"react-redux\";\nimport useServices from \"../../hooks/useServices\";\nimport CreatableSelect from \"../creatableSelect/CreatableSelect\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductPage = ({\n  categories,\n  mode,\n  headingText,\n  buttonText,\n  callbackFunction,\n  jsonData,\n  reFetchAllData\n}) => {\n  _s();\n  jsonData = jsonData || {\n    id: \"\",\n    name: \"\",\n    category: \"\",\n    manufacturer: \"\",\n    availableItems: \"\",\n    price: \"\",\n    imageUrl: \"\",\n    description: \"\"\n  };\n  const [busy, setBusy] = useState(false);\n  const {\n    ServicesCtx\n  } = useServices();\n  const {\n    broadcastMessage\n  } = useContext(ServicesCtx);\n  const {\n    AuthCtx\n  } = useAuthentication();\n  const {\n    accessToken,\n    isAccessTokenValid,\n    logout\n  } = useContext(AuthCtx);\n  const navigate = useNavigate();\n  const location = useLocation();\n  let json = location.state;\n  if (mode === undefined || mode === null) {\n    json = null;\n  } else if (mode === \"MODIFY\") {\n    if (json === null || json === undefined) {\n      json = null;\n    } else {\n      json = JSON.parse(json).value;\n      if (json === null || json === undefined || json[\"id\"] === undefined || json.id === null) {\n        json = null;\n      }\n    }\n  }\n  jsonData = json || {\n    id: \"\",\n    name: \"\",\n    category: \"\",\n    manufacturer: \"\",\n    availableItems: \"\",\n    price: \"\",\n    imageUrl: \"\",\n    description: \"\"\n  };\n  const initPageData = useCallback((type = mode, data = json, redirect = navigate, showMessage = broadcastMessage) => {\n    if (type === null || type === \"MODIFY\" && data === null) {\n      showMessage(\"Invalid access. Redirecting to home...\", \"warning\");\n      redirect(\"/home\");\n    }\n  }, [mode, json, navigate, broadcastMessage]);\n  useEffect(() => {\n    initPageData();\n  }, [initPageData]);\n  let initialState = {\n    name: {\n      value: jsonData.name,\n      error: false,\n      errorMessage: null\n    },\n    category: {\n      value: jsonData.category,\n      error: false,\n      errorMessage: null\n    },\n    manufacturer: {\n      value: jsonData.manufacturer,\n      error: false,\n      errorMessage: null\n    },\n    availableItems: {\n      value: jsonData.availableItems,\n      error: false,\n      errorMessage: null\n    },\n    price: {\n      value: jsonData.price,\n      error: false,\n      errorMessage: null\n    },\n    imageUrl: {\n      value: jsonData.imageUrl,\n      error: false,\n      errorMessage: null\n    },\n    description: {\n      value: jsonData.description,\n      error: false,\n      errorMessage: null\n    }\n  };\n  const [formData, setFormData] = useState(initialState);\n  let validateData = () => {\n    setBusy(true);\n    let data = {\n      ...formData\n    };\n    let requestJson = {};\n    if (jsonData.hasOwnProperty(\"id\") && jsonData.id.length > 0) {\n      requestJson[\"id\"] = jsonData.id;\n    }\n    let valid = true;\n    for (let k in formData) {\n      let json = getValidity(k, formData[k].value);\n      data[k] = {\n        value: data[k].value,\n        error: !json.valid,\n        errorMessage: json.message\n      };\n      valid = valid && json.valid;\n      if (json.valid) {\n        requestJson[k] = data[k].value;\n      }\n    }\n    setFormData(data);\n    if (valid) {\n      if (isAccessTokenValid()) {\n        callbackFunction(requestJson, accessToken).then(json => {\n          broadcastMessage(json.message, \"success\");\n          setBusy(false);\n          reFetchAllData(accessToken);\n          navigate(\"/home\");\n        }).catch(json => {\n          broadcastMessage(json.reason, \"error\");\n          setBusy(false);\n        });\n      } else {\n        broadcastMessage(\"Session expired. Please login again!\", \"info\");\n        logout().then(() => {\n          navigate(\"/login\");\n        });\n      }\n    } else {\n      setBusy(false);\n    }\n  };\n  let matchRegex = (value, re) => {\n    let regex = new RegExp(re);\n    return regex.test(value);\n  };\n  let getValidity = (field, value) => {\n    let valid = true;\n    let message = null;\n    if (value == null || value.length === 0) {\n      if (field !== \"imageUrl\" && field !== \"description\") {\n        valid = false;\n        message = \"This field is required.\";\n      }\n    } else {\n      switch (field) {\n        case \"name\":\n          {\n            if (value.length > 255) {\n              valid = false;\n              message = \"Product name can be of length 255 characters\";\n            } else {\n              valid = matchRegex(value, \"^([A-Za-z\\\\s]+)$\");\n              message = \"Please enter valid product name.\";\n            }\n            break;\n          }\n        case \"category\":\n          {\n            if (value.length > 255) {\n              valid = false;\n              message = \"Category can be of length 255 characters\";\n            } else {\n              valid = matchRegex(value, \"^([A-Za-z-\\\\s]+)$\");\n              message = \"Please enter valid category.\";\n            }\n            break;\n          }\n        case \"manufacturer\":\n          {\n            if (value.length > 255) {\n              valid = false;\n              message = \"Manufacturer can be of length 255 characters\";\n            } else {\n              valid = matchRegex(value, \"^([A-Za-z\\\\s]+)$\");\n              message = \"Please enter valid manufacturer.\";\n            }\n            break;\n          }\n        case \"availableItems\":\n          {\n            valid = matchRegex(value, \"^([1-9]{1}[0-9]{0,8})$\");\n            message = \"Please enter valid number.\";\n            break;\n          }\n        case \"price\":\n          {\n            valid = matchRegex(value, \"^([1-9]{1}[0-9]{0,8})$\");\n            message = \"Please enter valid amount.\";\n            break;\n          }\n        case \"imageUrl\":\n          {\n            try {\n              valid = Boolean(new URL(value));\n              if (!valid) {\n                message = \"Please enter valid url.\";\n              }\n            } catch (e) {\n              valid = false;\n              message = \"Please enter valid url.\";\n            }\n            break;\n          }\n        case \"description\":\n          {\n            if (value.length > 255) {\n              valid = false;\n              message = \"Description can be of length 255 characters\";\n            } else {\n              valid = matchRegex(value, \"^([A-Za-z0-9_@%*.-\\\\s\\\\[\\\\]\\\\,\\\\(\\\\)\\\\']{1,255})$\");\n              message = \"Please enter valid description.\";\n            }\n            break;\n          }\n        default:\n          {\n            return;\n          }\n      }\n    }\n    return {\n      valid,\n      message\n    };\n  };\n  let validateAndSave = (field, value) => {\n    let json = getValidity(field, value);\n    let data = {\n      ...formData\n    };\n    data[field] = {\n      value: value,\n      error: !json.valid,\n      errorMessage: json.message\n    };\n    setFormData(data);\n  };\n  let saveOnChange = (field, value) => {\n    setFormData({\n      ...formData,\n      [field]: {\n        ...formData[field],\n        value\n      }\n    });\n  };\n  let onChangeCallback = value => {\n    validateAndSave(\"category\", value);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      flexGrow: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 1,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              noWrap: true,\n              sx: {\n                fontSize: \"25px\",\n                color: 'inherit'\n              },\n              children: headingText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              marginTop: \"30px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              id: \"productName\",\n              label: \"Name *\",\n              variant: \"outlined\",\n              fullWidth: true,\n              value: formData.name.value,\n              onChange: event => saveOnChange(\"name\", event.target.value),\n              onBlur: event => validateAndSave(\"name\", event.target.value),\n              error: formData.name.error,\n              helperText: formData.name.error && formData.name.errorMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              marginTop: \"30px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(CreatableSelect, {\n              id: \"category\",\n              label: \"Category *\",\n              variant: \"outlined\",\n              fullWidth: true,\n              value: formData.category.value,\n              onChange: onChangeCallback,\n              onBlur: onChangeCallback,\n              error: formData.category.error,\n              helperText: formData.category.error && formData.category.errorMessage,\n              options: categories\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              marginTop: \"30px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              id: \"manufacturer\",\n              label: \"Manufacturer *\",\n              variant: \"outlined\",\n              fullWidth: true,\n              value: formData.manufacturer.value,\n              onChange: event => saveOnChange(\"manufacturer\", event.target.value),\n              onBlur: event => validateAndSave(\"manufacturer\", event.target.value),\n              error: formData.manufacturer.error,\n              helperText: formData.manufacturer.error && formData.manufacturer.errorMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              marginTop: \"30px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              id: \"availableItems\",\n              label: \"Available Items *\",\n              variant: \"outlined\",\n              fullWidth: true,\n              value: formData.availableItems.value,\n              onChange: event => saveOnChange(\"availableItems\", event.target.value),\n              onBlur: event => validateAndSave(\"availableItems\", event.target.value),\n              error: formData.availableItems.error,\n              helperText: formData.availableItems.error && formData.availableItems.errorMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              marginTop: \"30px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              id: \"price\",\n              label: \"Price *\",\n              variant: \"outlined\",\n              fullWidth: true,\n              value: formData.price.value,\n              onChange: event => saveOnChange(\"price\", event.target.value),\n              onBlur: event => validateAndSave(\"price\", event.target.value),\n              error: formData.price.error,\n              helperText: formData.price.error && formData.price.errorMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              marginTop: \"30px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              id: \"imageUrl\",\n              label: \"Image URL\",\n              variant: \"outlined\",\n              fullWidth: true,\n              value: formData.imageUrl.value,\n              onChange: event => saveOnChange(\"imageUrl\", event.target.value),\n              onBlur: event => validateAndSave(\"imageUrl\", event.target.value),\n              error: formData.imageUrl.error,\n              helperText: formData.imageUrl.error && formData.imageUrl.errorMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              marginTop: \"30px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              id: \"description\",\n              label: \"Product Description\",\n              variant: \"outlined\",\n              fullWidth: true,\n              value: formData.description.value,\n              onChange: event => saveOnChange(\"description\", event.target.value),\n              onBlur: event => validateAndSave(\"description\", event.target.value),\n              error: formData.description.error,\n              helperText: formData.description.error && formData.description.errorMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              marginTop: \"30px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              fullWidth: true,\n              onClick: validateData,\n              children: buttonText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n      sx: {\n        color: '#fff',\n        zIndex: theme => theme.zIndex.drawer + 1\n      },\n      open: busy,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 271,\n    columnNumber: 3\n  }, this);\n};\n_s(ProductPage, \"RAL5zCv1MJOYcFDa9SutMDrl0K0=\", false, function () {\n  return [useServices, useAuthentication, useNavigate, useLocation];\n});\n_c = ProductPage;\nconst mapStateToProps = state => {\n  return {\n    productList: state.metadata.products,\n    sortBy: state.metadata.selectedSortBy,\n    category: state.metadata.selectedCategory,\n    categories: state.metadata.categories\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    reFetchAllData: accessToken => dispatch(initCatalog(accessToken))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductPage);\nvar _c;\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"names":["Box","Grid","Typography","TextField","Button","Backdrop","CircularProgress","useCallback","useContext","useEffect","useState","useAuthentication","useLocation","useNavigate","initCatalog","connect","useServices","CreatableSelect","jsxDEV","_jsxDEV","ProductPage","categories","mode","headingText","buttonText","callbackFunction","jsonData","reFetchAllData","_s","id","name","category","manufacturer","availableItems","price","imageUrl","description","busy","setBusy","ServicesCtx","broadcastMessage","AuthCtx","accessToken","isAccessTokenValid","logout","navigate","location","json","state","undefined","JSON","parse","value","initPageData","type","data","redirect","showMessage","initialState","error","errorMessage","formData","setFormData","validateData","requestJson","hasOwnProperty","length","valid","k","getValidity","message","then","catch","reason","matchRegex","re","regex","RegExp","test","field","Boolean","URL","e","validateAndSave","saveOnChange","onChangeCallback","sx","flexGrow","children","container","spacing","item","xs","fileName","_jsxFileName","lineNumber","columnNumber","style","display","justifyContent","variant","noWrap","fontSize","color","marginTop","label","fullWidth","onChange","event","target","onBlur","helperText","options","onClick","zIndex","theme","drawer","open","_c","mapStateToProps","productList","metadata","products","sortBy","selectedSortBy","selectedCategory","mapDispatchToProps","dispatch","$RefreshReg$"],"sources":["/Users/macbook/Downloads/upGrad-Eshop-Application-using-createreactapp/src/components/productPage/ProductPage.jsx"],"sourcesContent":["//Component for product creation and modification\n\nimport Box from \"@mui/material/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport Typography from \"@mui/material/Typography\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport {useCallback, useContext, useEffect, useState} from \"react\";\nimport useAuthentication from \"../../hooks/useAuthentication\";\nimport {useLocation, useNavigate} from \"react-router-dom\";\nimport {initCatalog} from \"../../store/actions/metadataAction\";\nimport {connect} from \"react-redux\";\nimport useServices from \"../../hooks/useServices\";\nimport CreatableSelect from \"../creatableSelect/CreatableSelect\";\n\nconst ProductPage = ({categories, mode, headingText, buttonText, callbackFunction, jsonData, reFetchAllData}) => {\n\n\tjsonData = jsonData || {\n\t\tid: \"\",\n\t\tname: \"\",\n\t\tcategory: \"\",\n\t\tmanufacturer: \"\",\n\t\tavailableItems: \"\",\n\t\tprice: \"\",\n\t\timageUrl: \"\",\n\t\tdescription: \"\",\n\t};\n\tconst [busy, setBusy] = useState(false);\n\tconst {ServicesCtx} = useServices();\n\tconst {broadcastMessage} = useContext(ServicesCtx);\n\tconst {AuthCtx} = useAuthentication();\n\tconst {accessToken, isAccessTokenValid, logout} = useContext(AuthCtx);\n\tconst navigate = useNavigate();\n\tconst location = useLocation();\n\tlet json = location.state;\n\tif(mode === undefined || mode === null) {\n\t\tjson = null;\n\t} else if(mode === \"MODIFY\") {\n\t\tif(json === null || json === undefined) {\n\t\t\tjson = null;\n\t\t} else {\n\t\t\tjson = JSON.parse(json).value;\n\t\t\tif(json === null || json === undefined || json[\"id\"] === undefined || json.id === null) {\n\t\t\t\tjson = null;\n\t\t\t}\n\t\t}\n\t}\n\tjsonData = json || {\n\t\tid: \"\",\n\t\tname: \"\",\n\t\tcategory: \"\",\n\t\tmanufacturer: \"\",\n\t\tavailableItems: \"\",\n\t\tprice: \"\",\n\t\timageUrl: \"\",\n\t\tdescription: \"\",\n\t};\n\tconst initPageData = useCallback((type = mode, data = json, redirect = navigate, showMessage = broadcastMessage) => {\n\t\tif(type === null || (type === \"MODIFY\" && data === null)) {\n\t\t\tshowMessage(\"Invalid access. Redirecting to home...\", \"warning\");\n\t\t\tredirect(\"/home\");\n\t\t}\n\t}, [mode, json, navigate, broadcastMessage]);\n\tuseEffect(() => {\n\t\tinitPageData();\n\t}, [initPageData]);\n\n\tlet initialState = {\n\t\tname: {\n\t\t\tvalue: jsonData.name,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t\tcategory: {\n\t\t\tvalue: jsonData.category,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t\tmanufacturer: {\n\t\t\tvalue: jsonData.manufacturer,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t\tavailableItems: {\n\t\t\tvalue: jsonData.availableItems,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t\tprice: {\n\t\t\tvalue: jsonData.price,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t\timageUrl: {\n\t\t\tvalue: jsonData.imageUrl,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t\tdescription: {\n\t\t\tvalue: jsonData.description,\n\t\t\terror: false,\n\t\t\terrorMessage: null,\n\t\t},\n\t};\n\n\tconst [formData, setFormData] = useState(initialState);\n\n\tlet validateData = () => {\n\t\tsetBusy(true);\n\t\tlet data = {\n\t\t\t...formData\n\t\t};\n\t\tlet requestJson = {};\n\t\tif(jsonData.hasOwnProperty(\"id\") && jsonData.id.length > 0) {\n\t\t\trequestJson[\"id\"] = jsonData.id;\n\t\t}\n\t\tlet valid = true;\n\t\tfor(let k in formData) {\n\t\t\tlet json = getValidity(k, formData[k].value);\n\t\t\tdata[k] = {\n\t\t\t\tvalue: data[k].value,\n\t\t\t\terror: !json.valid,\n\t\t\t\terrorMessage: json.message,\n\t\t\t};\n\t\t\tvalid = valid && json.valid;\n\t\t\tif(json.valid) {\n\t\t\t\trequestJson[k] = data[k].value;\n\t\t\t}\n\t\t}\n\t\tsetFormData(data);\n\t\tif(valid) {\n\t\t\tif(isAccessTokenValid()) {\n\t\t\t\tcallbackFunction(requestJson, accessToken).then(json => {\n\t\t\t\t\tbroadcastMessage(json.message, \"success\");\n\t\t\t\t\tsetBusy(false);\n\t\t\t\t\treFetchAllData(accessToken);\n\t\t\t\t\tnavigate(\"/home\");\n\t\t\t\t}).catch(json => {\n\t\t\t\t\tbroadcastMessage(json.reason, \"error\");\n\t\t\t\t\tsetBusy(false);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tbroadcastMessage(\"Session expired. Please login again!\", \"info\");\n\t\t\t\tlogout().then(() => {\n\t\t\t\t\tnavigate(\"/login\");\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tsetBusy(false);\n\t\t}\n\t};\n\n\tlet matchRegex = (value, re) => {\n\t\tlet regex = new RegExp(re);\n\t\treturn regex.test(value);\n\t}\n\n\tlet getValidity = (field, value) => {\n\t\tlet valid = true;\n\t\tlet message = null;\n\t\tif(value == null || value.length === 0) {\n\t\t\tif(field !== \"imageUrl\" && field !== \"description\") {\n\t\t\t\tvalid = false;\n\t\t\t\tmessage = \"This field is required.\";\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (field) {\n\t\t\t\tcase \"name\": {\n\t\t\t\t\tif(value.length > 255) {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tmessage = \"Product name can be of length 255 characters\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = matchRegex(value, \"^([A-Za-z\\\\s]+)$\");\n\t\t\t\t\t\tmessage = \"Please enter valid product name.\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"category\": {\n\t\t\t\t\tif(value.length > 255) {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tmessage = \"Category can be of length 255 characters\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = matchRegex(value, \"^([A-Za-z-\\\\s]+)$\");\n\t\t\t\t\t\tmessage = \"Please enter valid category.\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"manufacturer\": {\n\t\t\t\t\tif(value.length > 255) {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tmessage = \"Manufacturer can be of length 255 characters\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = matchRegex(value, \"^([A-Za-z\\\\s]+)$\");\n\t\t\t\t\t\tmessage = \"Please enter valid manufacturer.\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"availableItems\": {\n\t\t\t\t\tvalid = matchRegex(value, \"^([1-9]{1}[0-9]{0,8})$\");\n\t\t\t\t\tmessage = \"Please enter valid number.\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"price\": {\n\t\t\t\t\tvalid = matchRegex(value, \"^([1-9]{1}[0-9]{0,8})$\");\n\t\t\t\t\tmessage = \"Please enter valid amount.\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"imageUrl\": {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvalid = Boolean(new URL(value));\n\t\t\t\t\t\tif(!valid) {\n\t\t\t\t\t\t\tmessage = \"Please enter valid url.\";\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(e){\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tmessage = \"Please enter valid url.\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"description\": {\n\t\t\t\t\tif(value.length > 255) {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tmessage = \"Description can be of length 255 characters\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = matchRegex(value, \"^([A-Za-z0-9_@%*.-\\\\s\\\\[\\\\]\\\\,\\\\(\\\\)\\\\']{1,255})$\");\n\t\t\t\t\t\tmessage = \"Please enter valid description.\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault : {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tvalid,\n\t\t\tmessage\n\t\t};\n\t};\n\n\tlet validateAndSave = (field, value) => {\n\t\tlet json = getValidity(field, value);\n\t\tlet data = {\n\t\t\t...formData\n\t\t};\n\t\tdata[field] = {\n\t\t\tvalue: value,\n\t\t\terror: !json.valid,\n\t\t\terrorMessage: json.message,\n\t\t}\n\t\tsetFormData(data);\n\t};\n\n\tlet saveOnChange = (field, value) => {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[field]:{\n\t\t\t\t...formData[field],\n\t\t\t\tvalue\n\t\t\t}\n\t\t});\n\t};\n\n\tlet onChangeCallback = (value) => {\n\t\tvalidateAndSave(\"category\", value)\n\t};\n\n\treturn (\n\t\t<Box sx={{flexGrow: 1}}>\n\t\t\t<Grid container spacing={1}>\n\t\t\t\t<Grid container item spacing={3}>\n\t\t\t\t\t<Grid item xs={4}/>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center'}}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tfontSize: \"25px\",\n\t\t\t\t\t\t\t\t\tcolor: 'inherit',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{headingText}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"productName\"\n\t\t\t\t\t\t\t\tlabel=\"Name *\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.name.value}\n\t\t\t\t\t\t\t\tonChange={(event) => saveOnChange(\"name\", event.target.value)}\n\t\t\t\t\t\t\t\tonBlur={(event) => validateAndSave(\"name\", event.target.value)}\n\t\t\t\t\t\t\t\terror={formData.name.error}\n\t\t\t\t\t\t\t\thelperText={formData.name.error && formData.name.errorMessage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<CreatableSelect\n\t\t\t\t\t\t\t\tid=\"category\"\n\t\t\t\t\t\t\t\tlabel=\"Category *\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.category.value}\n\t\t\t\t\t\t\t\tonChange={onChangeCallback}\n\t\t\t\t\t\t\t\tonBlur={onChangeCallback}\n\t\t\t\t\t\t\t\terror={formData.category.error}\n\t\t\t\t\t\t\t\thelperText={formData.category.error && formData.category.errorMessage}\n\t\t\t\t\t\t\t\toptions={categories}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"manufacturer\"\n\t\t\t\t\t\t\t\tlabel=\"Manufacturer *\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.manufacturer.value}\n\t\t\t\t\t\t\t\tonChange={(event) => saveOnChange(\"manufacturer\", event.target.value)}\n\t\t\t\t\t\t\t\tonBlur={(event) => validateAndSave(\"manufacturer\", event.target.value)}\n\t\t\t\t\t\t\t\terror={formData.manufacturer.error}\n\t\t\t\t\t\t\t\thelperText={formData.manufacturer.error && formData.manufacturer.errorMessage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"availableItems\"\n\t\t\t\t\t\t\t\tlabel=\"Available Items *\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.availableItems.value}\n\t\t\t\t\t\t\t\tonChange={(event) => saveOnChange(\"availableItems\", event.target.value)}\n\t\t\t\t\t\t\t\tonBlur={(event) => validateAndSave(\"availableItems\", event.target.value)}\n\t\t\t\t\t\t\t\terror={formData.availableItems.error}\n\t\t\t\t\t\t\t\thelperText={formData.availableItems.error && formData.availableItems.errorMessage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"price\"\n\t\t\t\t\t\t\t\tlabel=\"Price *\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.price.value}\n\t\t\t\t\t\t\t\tonChange={(event) => saveOnChange(\"price\", event.target.value)}\n\t\t\t\t\t\t\t\tonBlur={(event) => validateAndSave(\"price\", event.target.value)}\n\t\t\t\t\t\t\t\terror={formData.price.error}\n\t\t\t\t\t\t\t\thelperText={formData.price.error && formData.price.errorMessage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"imageUrl\"\n\t\t\t\t\t\t\t\tlabel=\"Image URL\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.imageUrl.value}\n\t\t\t\t\t\t\t\tonChange={(event) => saveOnChange(\"imageUrl\", event.target.value)}\n\t\t\t\t\t\t\t\tonBlur={(event) => validateAndSave(\"imageUrl\", event.target.value)}\n\t\t\t\t\t\t\t\terror={formData.imageUrl.error}\n\t\t\t\t\t\t\t\thelperText={formData.imageUrl.error && formData.imageUrl.errorMessage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\tlabel=\"Product Description\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvalue={formData.description.value}\n\t\t\t\t\t\t\t\tonChange={(event) => saveOnChange(\"description\", event.target.value)}\n\t\t\t\t\t\t\t\tonBlur={(event) => validateAndSave(\"description\", event.target.value)}\n\t\t\t\t\t\t\t\terror={formData.description.error}\n\t\t\t\t\t\t\t\thelperText={formData.description.error && formData.description.errorMessage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center', marginTop: \"30px\"}}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tonClick={validateData}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{buttonText}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={4}/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Backdrop\n\t\t\t\tsx={{color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1}}\n\t\t\t\topen={busy}\n\t\t\t>\n\t\t\t\t<CircularProgress color=\"inherit\"/>\n\t\t\t</Backdrop>\n\t\t</Box>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tproductList: state.metadata.products,\n\t\tsortBy: state.metadata.selectedSortBy,\n\t\tcategory: state.metadata.selectedCategory,\n\t\tcategories: state.metadata.categories,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\treFetchAllData: (accessToken) => dispatch(initCatalog(accessToken)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductPage);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}