{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Downloads/upGrad-Eshop-Application-main/src/components/productListing/ProductListing.jsx\",\n  _s = $RefreshSig$();\n//Component for showing list of all products\n\nimport { initCatalog } from \"../../store/actions/metadataAction\";\nimport { connect } from \"react-redux\";\nimport ProductCard from \"../productCard/ProductCard\";\nimport Grid from \"@mui/material/Grid\";\nimport { useContext, useState } from \"react\";\nimport { Modal } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport { deleteProduct, viewProduct } from \"../../api/productAPIs\";\nimport useAuthentication from \"../../hooks/useAuthentication\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport Typography from \"@mui/material/Typography\";\nimport useServices from \"../../hooks/useServices\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductListing = ({\n  mode,\n  productList,\n  sortBy,\n  category,\n  reFetchAllData\n}) => {\n  _s();\n  const [deleteModal, setDeleteModal] = useState(false);\n  const [product, setProduct] = useState(null);\n  const {\n    AuthCtx\n  } = useAuthentication();\n  const {\n    accessToken,\n    isAccessTokenValid,\n    logout\n  } = useContext(AuthCtx);\n  const [busy, setBusy] = useState(false);\n  const {\n    ServicesCtx\n  } = useServices();\n  const {\n    broadcastMessage\n  } = useContext(ServicesCtx);\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  let searchFor = searchParams.get(\"searchFor\");\n  if (searchFor === null) {\n    searchFor = \"\";\n  }\n  let getFilteredProductsBasedOnQuery = (list, str) => {\n    if (str !== null && str.length > 0) {\n      let filteredList = [];\n      for (let i = 0; i < list.length; i++) {\n        if (list[i].name.toUpperCase().indexOf(str.toUpperCase()) === 0) {\n          filteredList.push(list[i]);\n        }\n      }\n      return filteredList;\n    } else {\n      return list;\n    }\n  };\n  let getSortedProducts = (list, s) => {\n    if (s === undefined || s === null) {\n      s = \"DEFAULT\";\n    }\n    if (s !== \"DEFAULT\") {\n      list.sort((a, b) => {\n        if (s === \"PRICE_ASC\") {\n          if (a.price < b.price) {\n            return -1;\n          } else if (a.price > b.price) {\n            return 1;\n          } else {\n            return 0;\n          }\n        } else if (s === \"PRICE_DESC\") {\n          if (a.price < b.price) {\n            return 1;\n          } else if (a.price > b.price) {\n            return -1;\n          } else {\n            return 0;\n          }\n        } else if (s === \"NEWEST\") {\n          //NOTE: PLEASE NOTE THAT CREATION DATE OR MODIFICATION DATE IS NOT RECEIVED FROM SERVER, HENCE \"NEWEST\" CRITERIA WON't WORK\n          let aTime = new Date(a.lastUpdated);\n          let bTime = new Date(b.lastUpdated);\n          if (aTime < bTime) {\n            return 1;\n          } else if (aTime > bTime) {\n            return -1;\n          } else {\n            return 0;\n          }\n        } else {\n          //default\n          if (a.price < b.price) {\n            return 1;\n          } else if (a.price > b.price) {\n            return -1;\n          } else {\n            return 0;\n          }\n        }\n      });\n    }\n    return list;\n  };\n  let getFilteredProducts = (list, c) => {\n    if (c === undefined || c === null) {\n      c = \"ALL\";\n    }\n    let filteredList = [];\n    for (let i = 0; i < list.length; i++) {\n      if (c.toUpperCase() === \"ALL\" || c.toUpperCase() === list[i].category.toUpperCase()) {\n        filteredList.push(list[i]);\n      }\n    }\n    return filteredList;\n  };\n  let initiateDeleteProduct = details => {\n    setProduct(details);\n    setDeleteModal(true);\n  };\n  let initiateModifyProduct = details => {\n    navigate(\"/product/modify\", {\n      state: JSON.stringify({\n        value: details\n      })\n    });\n  };\n  let initiateViewProduct = details => {\n    if (isAccessTokenValid()) {\n      setBusy(true);\n      viewProduct(details.id, accessToken).then(json => {\n        navigate(\"/product/view\", {\n          state: JSON.stringify({\n            value: json.value\n          })\n        });\n        setBusy(false);\n      }).catch(json => {\n        broadcastMessage(json.reason, \"error\");\n        setBusy(false);\n      });\n    } else {\n      broadcastMessage(\"Session expired. Please login again!\", \"info\");\n      logout().then(() => {\n        navigate(\"/login\");\n      });\n    }\n  };\n  let handleClose = () => {\n    setProduct(null);\n    setDeleteModal(false);\n  };\n  const proceedDelete = () => {\n    setBusy(true);\n    setDeleteModal(false);\n    if (isAccessTokenValid()) {\n      deleteProduct(product.id, accessToken).then(() => {\n        broadcastMessage(\"Product \" + product.name + \" deleted successfully.\", \"success\");\n        setBusy(false);\n        setProduct(null);\n        reFetchAllData(accessToken);\n      }).catch(json => {\n        broadcastMessage(json.reason, \"error\");\n        setBusy(false);\n        setProduct(null);\n      });\n    } else {\n      broadcastMessage(\"Session expired. Please login again!\", \"info\");\n      logout().then(() => {\n        navigate(\"/login\");\n      });\n    }\n  };\n  let products = getFilteredProductsBasedOnQuery(getSortedProducts(getFilteredProducts(productList, category), sortBy), searchFor);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [products !== null && products.length > 0 && products.map((element, index) => {\n        return /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              marginTop: \"10%\"\n            },\n            children: /*#__PURE__*/_jsxDEV(ProductCard, {\n              mode: mode,\n              deleteProduct: initiateDeleteProduct,\n              modifyProduct: initiateModifyProduct,\n              buyProduct: initiateViewProduct,\n              ...element\n            }, \"product_\" + index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 10\n            }, this)\n          }, \"div_product_\" + index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 9\n          }, this)\n        }, \"parent_product_\" + index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 8\n        }, this);\n      }), (products === null || products.length === 0) && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"No products available.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 4\n    }, this), deleteModal && /*#__PURE__*/_jsxDEV(Modal, {\n      open: deleteModal,\n      onClose: handleClose,\n      \"aria-labelledby\": \"parent-modal-title\",\n      \"aria-describedby\": \"parent-modal-description\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          width: 400,\n          bgcolor: 'background.paper',\n          borderRadius: 2,\n          boxShadow: 24,\n          pt: 2,\n          px: 4,\n          pb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"parent-modal-title\",\n          children: \"Confirm deletion of product!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"parent-modal-description\",\n          children: \"Are you sure you want to delete the product?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          variant: \"outlined\",\n          style: {\n            float: \"right\",\n            marginLeft: 10\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: proceedDelete,\n          variant: \"contained\",\n          style: {\n            float: \"right\",\n            marginLeft: 10\n          },\n          children: \"Ok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n      sx: {\n        color: '#fff',\n        zIndex: theme => theme.zIndex.drawer + 1\n      },\n      open: busy,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_s(ProductListing, \"gR+sNUXivTKc03htb9W1bvUf36g=\", false, function () {\n  return [useAuthentication, useServices, useNavigate, useSearchParams];\n});\n_c = ProductListing;\nconst mapStateToProps = state => {\n  return {\n    productList: state.metadata.products,\n    sortBy: state.metadata.selectedSortBy,\n    category: state.metadata.selectedCategory\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    reFetchAllData: accessToken => dispatch(initCatalog(accessToken))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductListing);\nvar _c;\n$RefreshReg$(_c, \"ProductListing\");","map":{"version":3,"names":["initCatalog","connect","ProductCard","Grid","useContext","useState","Modal","Box","Button","deleteProduct","viewProduct","useAuthentication","Backdrop","CircularProgress","useNavigate","useSearchParams","Typography","useServices","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductListing","mode","productList","sortBy","category","reFetchAllData","_s","deleteModal","setDeleteModal","product","setProduct","AuthCtx","accessToken","isAccessTokenValid","logout","busy","setBusy","ServicesCtx","broadcastMessage","navigate","searchParams","searchFor","get","getFilteredProductsBasedOnQuery","list","str","length","filteredList","i","name","toUpperCase","indexOf","push","getSortedProducts","s","undefined","sort","a","b","price","aTime","Date","lastUpdated","bTime","getFilteredProducts","c","initiateDeleteProduct","details","initiateModifyProduct","state","JSON","stringify","value","initiateViewProduct","id","then","json","catch","reason","handleClose","proceedDelete","products","children","container","map","element","index","item","xs","style","display","justifyContent","marginTop","modifyProduct","buyProduct","fileName","_jsxFileName","lineNumber","columnNumber","variant","open","onClose","sx","position","top","left","transform","width","bgcolor","borderRadius","boxShadow","pt","px","pb","onClick","float","marginLeft","color","zIndex","theme","drawer","_c","mapStateToProps","metadata","selectedSortBy","selectedCategory","mapDispatchToProps","dispatch","$RefreshReg$"],"sources":["/Users/macbook/Downloads/upGrad-Eshop-Application-main/src/components/productListing/ProductListing.jsx"],"sourcesContent":["//Component for showing list of all products\n\nimport {initCatalog} from \"../../store/actions/metadataAction\";\nimport {connect} from \"react-redux\";\nimport ProductCard from \"../productCard/ProductCard\";\nimport Grid from \"@mui/material/Grid\";\nimport {useContext, useState} from \"react\";\nimport {Modal} from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport {deleteProduct, viewProduct} from \"../../api/productAPIs\";\nimport useAuthentication from \"../../hooks/useAuthentication\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport {useNavigate, useSearchParams} from \"react-router-dom\";\nimport Typography from \"@mui/material/Typography\";\nimport useServices from \"../../hooks/useServices\";\n\nconst ProductListing = ({mode, productList, sortBy, category, reFetchAllData}) => {\n\n\tconst [deleteModal, setDeleteModal] = useState(false);\n\tconst [product, setProduct] = useState(null);\n\tconst {AuthCtx} = useAuthentication();\n\tconst {accessToken, isAccessTokenValid, logout} = useContext(AuthCtx);\n\tconst [busy, setBusy] = useState(false);\n\tconst {ServicesCtx} = useServices();\n\tconst {broadcastMessage} = useContext(ServicesCtx);\n\tconst navigate = useNavigate();\n\tconst [searchParams] = useSearchParams();\n\tlet searchFor = searchParams.get(\"searchFor\");\n\tif(searchFor === null) {\n\t\tsearchFor = \"\";\n\t}\n\tlet getFilteredProductsBasedOnQuery = (list, str) => {\n\t\tif(str !== null && str.length > 0) {\n\t\t\tlet filteredList = [];\n\t\t\tfor(let i = 0; i < list.length; i++) {\n\t\t\t\tif(list[i].name.toUpperCase().indexOf(str.toUpperCase()) === 0) {\n\t\t\t\t\tfilteredList.push(list[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn filteredList;\n\t\t} else {\n\t\t\treturn list;\n\t\t}\n\t};\n\n\tlet getSortedProducts = (list, s) => {\n\t\tif(s === undefined || s === null) {\n\t\t\ts = \"DEFAULT\";\n\t\t}\n\t\tif(s !== \"DEFAULT\") {\n\t\t\tlist.sort((a, b) => {\n\t\t\t\tif (s === \"PRICE_ASC\") {\n\t\t\t\t\tif(a.price < b.price) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t} else if(a.price > b.price) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t} else if (s === \"PRICE_DESC\") {\n\t\t\t\t\tif(a.price < b.price) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t} else if(a.price > b.price) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t} else if (s === \"NEWEST\") {\n\t\t\t\t\t//NOTE: PLEASE NOTE THAT CREATION DATE OR MODIFICATION DATE IS NOT RECEIVED FROM SERVER, HENCE \"NEWEST\" CRITERIA WON't WORK\n\t\t\t\t\tlet aTime = new Date(a.lastUpdated);\n\t\t\t\t\tlet bTime = new Date(b.lastUpdated);\n\t\t\t\t\tif(aTime < bTime) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t} else if(aTime > bTime) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//default\n\t\t\t\t\tif(a.price < b.price) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t} else if(a.price > b.price) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn list;\n\t}\n\n\tlet getFilteredProducts = (list, c) => {\n\t\tif(c === undefined || c === null) {\n\t\t\tc = \"ALL\";\n\t\t}\n\t\tlet filteredList = [];\n\t\tfor(let i = 0; i < list.length; i++) {\n\t\t\tif(c.toUpperCase() === \"ALL\" || c.toUpperCase() === list[i].category.toUpperCase()) {\n\t\t\t\tfilteredList.push(list[i]);\n\t\t\t}\n\t\t}\n\t\treturn filteredList;\n\t}\n\n\tlet initiateDeleteProduct = (details) => {\n\t\tsetProduct(details);\n\t\tsetDeleteModal(true);\n\t};\n\n\tlet initiateModifyProduct = (details) => {\n\t\tnavigate(\"/product/modify\", {\n\t\t\tstate: JSON.stringify({\n\t\t\t\tvalue: details,\n\t\t\t})\n\t\t});\n\t};\n\n\tlet initiateViewProduct = (details) => {\n\t\tif(isAccessTokenValid()) {\n\t\t\tsetBusy(true);\n\t\t\tviewProduct(details.id, accessToken).then((json) => {\n\t\t\t\tnavigate(\"/product/view\", {\n\t\t\t\t\tstate: JSON.stringify({\n\t\t\t\t\t\tvalue: json.value,\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tsetBusy(false);\n\t\t\t}).catch((json) => {\n\t\t\t\tbroadcastMessage(json.reason, \"error\");\n\t\t\t\tsetBusy(false);\n\t\t\t});\n\t\t} else {\n\t\t\tbroadcastMessage(\"Session expired. Please login again!\", \"info\");\n\t\t\tlogout().then(() => {\n\t\t\t\tnavigate(\"/login\");\n\t\t\t});\n\t\t}\n\t};\n\n\tlet handleClose = () => {\n\t\tsetProduct(null);\n\t\tsetDeleteModal(false);\n\t};\n\n\tconst proceedDelete = () => {\n\t\tsetBusy(true);\n\t\tsetDeleteModal(false);\n\t\tif(isAccessTokenValid()) {\n\t\t\tdeleteProduct(product.id, accessToken).then(() => {\n\t\t\t\tbroadcastMessage(\"Product \" + product.name + \" deleted successfully.\", \"success\");\n\t\t\t\tsetBusy(false);\n\t\t\t\tsetProduct(null);\n\t\t\t\treFetchAllData(accessToken);\n\t\t\t}).catch((json) => {\n\t\t\t\tbroadcastMessage(json.reason, \"error\");\n\t\t\t\tsetBusy(false);\n\t\t\t\tsetProduct(null);\n\t\t\t});\n\t\t} else {\n\t\t\tbroadcastMessage(\"Session expired. Please login again!\", \"info\");\n\t\t\tlogout().then(() => {\n\t\t\t\tnavigate(\"/login\");\n\t\t\t});\n\t\t}\n\t};\n\n\tlet products = getFilteredProductsBasedOnQuery(getSortedProducts(getFilteredProducts(productList, category), sortBy), searchFor);\n\n\treturn (\n\t\t<>\n\t\t\t<Grid container>\n\t\t\t\t{ \tproducts !== null && products.length > 0 &&\n\t\t\t\t\tproducts.map((element, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Grid key={\"parent_product_\" + index} item xs={4}>\n\t\t\t\t\t\t\t\t<div key={\"div_product_\" + index} style={{display: 'flex', justifyContent: 'center', marginTop: \"10%\"}}>\n\t\t\t\t\t\t\t\t\t<ProductCard\n\t\t\t\t\t\t\t\t\t\tkey={\"product_\" + index}\n\t\t\t\t\t\t\t\t\t\tmode={mode}\n\t\t\t\t\t\t\t\t\t\tdeleteProduct={initiateDeleteProduct}\n\t\t\t\t\t\t\t\t\t\tmodifyProduct={initiateModifyProduct}\n\t\t\t\t\t\t\t\t\t\tbuyProduct={initiateViewProduct}\n\t\t\t\t\t\t\t\t\t\t{...element}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\t(products === null || products.length === 0) &&\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'center'}}>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\tNo products available.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t}\n\t\t\t</Grid>\n\t\t\t{\n\t\t\t\tdeleteModal &&\n\t\t\t\t<Modal\n\t\t\t\t\topen={deleteModal}\n\t\t\t\t\tonClose={handleClose}\n\t\t\t\t\taria-labelledby=\"parent-modal-title\"\n\t\t\t\t\taria-describedby=\"parent-modal-description\"\n\t\t\t\t>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: '50%',\n\t\t\t\t\t\t\tleft: '50%',\n\t\t\t\t\t\t\ttransform: 'translate(-50%, -50%)',\n\t\t\t\t\t\t\twidth: 400,\n\t\t\t\t\t\t\tbgcolor: 'background.paper',\n\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\tboxShadow: 24,\n\t\t\t\t\t\t\tpt: 2,\n\t\t\t\t\t\t\tpx: 4,\n\t\t\t\t\t\t\tpb: 3\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<h2 id=\"parent-modal-title\">Confirm deletion of product!</h2>\n\t\t\t\t\t\t<p id=\"parent-modal-description\">\n\t\t\t\t\t\t\tAre you sure you want to delete the product?\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Button onClick={handleClose} variant={\"outlined\"} style={{float: \"right\", marginLeft: 10}}>Cancel</Button>\n\t\t\t\t\t\t<Button onClick={proceedDelete} variant={\"contained\"} style={{float: \"right\", marginLeft: 10}}>Ok</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Modal>\n\t\t\t}\n\t\t\t<Backdrop\n\t\t\t\tsx={{color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1}}\n\t\t\t\topen={busy}\n\t\t\t>\n\t\t\t\t<CircularProgress color=\"inherit\"/>\n\t\t\t</Backdrop>\n\t\t</>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tproductList: state.metadata.products,\n\t\tsortBy: state.metadata.selectedSortBy,\n\t\tcategory: state.metadata.selectedCategory,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\treFetchAllData: (accessToken) => dispatch(initCatalog(accessToken)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductListing);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}